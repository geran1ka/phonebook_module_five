!function(){"use strict";const e=()=>{const e=document.createElement("div");return e.classList.add("container"),e},t=e=>{const t=document.createElement("div");t.classList.add("btn-wrapper");const n=e.map((({className:e,type:t,text:n})=>{const o=document.createElement("button");return o.type=t,o.textContent=n,o.className=e,o}));return t.append(...n),{btnWrapper:t,btns:n}},n=({name:e,surname:t,phone:n})=>{const o=document.createElement("tr");o.classList.add("contact");const s=document.createElement("td");s.classList.add("delete");const a=document.createElement("button");a.classList.add("del-icon"),s.append(a);const r=document.createElement("td");r.textContent=e;const c=document.createElement("td");c.textContent=t;const l=document.createElement("td"),d=document.createElement("a");d.classList.add("phone"),d.href=`tel:${n}`,d.textContent=`${n}`,o.phoneLink=d,l.append(d);const m=document.createElement("td");m.classList.add("td-btn");const i=document.createElement("button");return i.type="button",i.classList.add("button-table"),i.innerHTML='\n    <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">\n      <path d="M15.5629 4.86078L17.6394 6.93629L15.5629 4.86078ZM16.8982 3.03233L11.2834 8.64709C10.9933 8.9368 10.7955 9.3059 10.7148 9.70789L10.1962 12.304L12.7923 11.7844C13.1942 11.704 13.5629 11.5069 13.8531 11.2167L19.4678 5.60196C19.6366 5.43324 19.7704 5.23293 19.8617 5.01248C19.953 4.79203 20 4.55576 20 4.31714C20 4.07853 19.953 3.84225 19.8617 3.6218C19.7704 3.40136 19.6366 3.20105 19.4678 3.03233C19.2991 2.8636 19.0988 2.72976 18.8784 2.63845C18.6579 2.54714 18.4216 2.50014 18.183 2.50014C17.9444 2.50014 17.7081 2.54714 17.4877 2.63845C17.2672 2.72976 17.0669 2.8636 16.8982 3.03233V3.03233Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n      <path d="M18.0394 14.2648V17.206C18.0394 17.726 17.8328 18.2248 17.4651 18.5925C17.0973 18.9602 16.5986 19.1668 16.0786 19.1668H5.29415C4.77411 19.1668 4.27537 18.9602 3.90765 18.5925C3.53993 18.2248 3.33334 17.726 3.33334 17.206V6.42157C3.33334 5.90154 3.53993 5.4028 3.90765 5.03508C4.27537 4.66735 4.77411 4.46077 5.29415 4.46077H8.23535" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n    </svg> \n  ',m.append(i),o.append(s,r,c,l,m),o},o=(e,t)=>{e.textContent="";const o=t.map((e=>n(e)));return e.append(...o),o},s=e=>localStorage.getItem(e)?JSON.parse(localStorage.getItem(e)):[],a=(e,t)=>localStorage.setItem(e,JSON.stringify(t)),r=(e,t)=>{const n=s(t).filter((t=>t.phone!==e));a(t,n)};const c=()=>{let e=0;const t=()=>e++;return t.reset=()=>e=0,t},l=(e,t,n)=>{const o=document.querySelectorAll(e);switch(n){case"add":o.forEach((e=>e?.classList.add(t)));break;case"remove":o.forEach((e=>e?.classList.remove(t)));break;case"toggle":o.forEach((e=>e?.classList.toggle(t)));break;default:console.log("Что-то пошло не так")}},d=()=>{const e=document.getElementsByClassName("contact"),t=document.querySelector(".logo"),n=t.textContent;for(const o of e)o.addEventListener("mouseenter",(()=>{t.textContent=o.phoneLink.textContent})),o.addEventListener("mouseleave",(()=>{t.textContent=n}))},m=c(),i=c(),u=c(),p=c(),b=(e,t)=>{let n=null;if(1!=+localStorage.getItem("click")||p())switch(e){case"name":n=m(),i.reset(),u.reset();break;case"surname":n=i(),m.reset(),u.reset();break;case"phone":n=u(),m.reset(),i.reset()}else n=+localStorage.getItem("click");l(".up","up","remove"),l(".down","down","remove");const o=s(t);return n%2==0?(o.sort(((t,n)=>t[e]>n[e]?1:-1)),l(`.${e}`,"up","add"),localStorage.setItem("click",0)):(o.sort(((t,n)=>t[e]>n[e]?-1:1)),l(`.${e}`,"down","add"),localStorage.setItem("click",1)),p(),o};{const c=(c,m)=>{const i=document.querySelector(c),{listTitle:u,list:p,logo:h,btnAdd:v,formOverlay:f,form:g,btnDel:L}=((n,o)=>{const s=(()=>{const t=document.createElement("header");t.classList.add("header");const n=e();return t.append(n),t.headerContainer=n,t})(),a=(e=>{const t=document.createElement("h1");return t.classList.add("logo"),t.textContent=`Телефонный справочник. ${e}`,t})(o),r=(()=>{const t=document.createElement("main"),n=e();return t.append(n),t.mainContainer=n,t})(),c=(t=>{const n=document.createElement("footer");n.classList.add("footer");const o=e();n.append(o),n.footerContainer=o;const s=document.createElement("p");return s.classList.add("footer-copyright"),s.textContent=`Все права защищены ©${t}`,o.append(s),n})(o),l=t([{className:"btn btn-primary mr-3",type:"button",text:"Добавить"},{className:"btn btn-danger",type:"button",text:"Удалить"}]),d=(()=>{const e=document.createElement("table");e.classList.add("table","table-striped");const t=document.createElement("thead");t.insertAdjacentHTML("beforeend",'\n    <tr>\n      <th class="delete">Удалить</th>\n      <th class="name" data-sort="name">Имя</th>\n      <th class="surname" data-sort="surname">Фамилия</th>\n      <th class="phone" data-sort="phone">Телефон</th>\n      <th class="th-edit">Редактировать</th>\n    </tr>\n  ');const n=document.createElement("tbody");return e.append(t,n),e.tbody=n,e.thead=t,e})(),{form:m,overlay:i}=(()=>{const e=document.createElement("div");e.classList.add("form-overlay");const n=document.createElement("form");n.classList.add("form"),n.insertAdjacentHTML("beforeend",'\n    <button class="close" type="button"></button>\n    <h2 class="form-title">Добавить контакт</h2>\n    <div class="form-group">\n      <lable class="form-label" for="name">Имя</lable>\n      <input class="form-input" name="name" id="name" type="text" required>\n    </div>\n    <div class="form-group">\n      <lable class="form-label" for="surname">Фамилия</lable>\n      <input class="form-input" name="surname" id="surname" type="text" required>\n    </div>\n    <div class="form-group">\n      <lable class="form-label" for="name">Телефон</lable>\n      <input class="form-input" name="phone" id="phone" type="number" required>\n    </div>\n  ');const o=t([{className:"btn btn-primary mr-3",type:"submit",text:"Добавить"},{className:"btn btn-danger",type:"reset",text:"Отмена"}]);return n.append(...o.btns),e.append(n),{overlay:e,form:n}})();return s.headerContainer.append(a),r.mainContainer.append(l.btnWrapper,d,i),n.append(s,r,c),{listTitle:d.thead,list:d.tbody,logo:a,btnAdd:l.btns[0],btnDel:l.btns[1],formOverlay:i,form:m}})(i,m),C=s(m),{closeModal:E,openModal:y}=((e,t)=>{const n=()=>{t.classList.add("is-visible"),l(".delete","is-visible","remove")},o=()=>{t.classList.remove("is-visible")};return e.addEventListener("click",n),t.addEventListener("click",(e=>{const n=e.target;(n===t||n.closest(".close"))&&o()})),{closeModal:o,openModal:n}})(v,f),k=(e=>{const t={};for(const n in e)t[n]=e[n];return t})(h),x=()=>h.textContent=k.textContent;localStorage.getItem("sort")?o(p,b(localStorage.getItem("sort"),m)):o(p,C),d(),((e,t,n,o)=>{e.addEventListener("click",(()=>{l(".delete","is-visible","toggle")})),t.addEventListener("click",(e=>{const t=e.target;if(t.closest(".del-icon")){const e=t.closest(".contact"),o=e.querySelector(".phone").textContent;e.remove(),r(o,n)}document.querySelector(".contact")||(o(),localStorage.removeItem("sort"),l(".up","up","remove"),l(".down","down","remove"),l(".delete","is-visible","remove"))}))})(L,p,m,x),((e,t,n,s)=>{e.addEventListener("click",(e=>{const a=e.target;if(l(".delete","is-visible","remove"),a.closest("th")&&!a.closest(".th-edit")){const e=a.dataset.sort;o(t,b(e,n)),s(),d(),localStorage.setItem("sort",e)}}))})(u,p,m,d),((e,t,o,r,c)=>{e.addEventListener("submit",(l=>{l.preventDefault();const d=new FormData(l.target),m=Object.fromEntries(d);((e,t)=>{const n=s(e);n.push(t),a(e,n)})(t,m),((e,t)=>{t.append(n(e))})(m,o),e.reset(),r(),c()}))})(g,m,p,E,d),((e,t,n,o,a)=>{e.addEventListener("click",(e=>{const c=e.target;if(c.closest(".button-table")){t();const e=c.closest(".contact"),l=e.querySelector(".phone").textContent,d=s(n).find((e=>e.phone===l));o.name.value=d.name,o.surname.value=d.surname,o.phone.value=d.phone,r(l,n),e.remove(),a()}}))})(p,y,m,g,x)};window.phoneBookInit=c}}();
//# sourceMappingURL=main4f3387d52c00bce2db8f.js.map